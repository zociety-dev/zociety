#!/bin/bash
# install-hooks: Set up git hooks for zociety

set -e

HOOKS_DIR=".git/hooks"
SRC_DIR="bin/hooks"

for hook in "$SRC_DIR"/*; do
  name=$(basename "$hook")
  dest="$HOOKS_DIR/$name"

  if [[ -f "$dest" ]]; then
    echo "Backing up existing $name to $name.bak"
    mv "$dest" "$dest.bak"
  fi

  cp "$hook" "$dest"
  chmod +x "$dest"
  echo "Installed $name"
done

echo ""
echo "Hooks installed. Commit messages will be validated."
